<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_enemy_2</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>hp = 25;
attack_speed = 120;
attack_duration = 20
bullet_speed = 15;
count = 0;
global.enemy_2_damage = 2;
speed = 1;
is_there_booty = false;
shine_count = 0;
elipse_direction = 0;
is_on_path = false;
is_clockwise = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_destroy();
global.enemy2_count--;
    instance_create(x, y, obj_enemy_2_explosion);
    if (irandom(1) == 1){
        debris1 = instance_create(x, y, obj_enemy_2_debris);
        debris1.image_index = 0;
        debris1.direction = random(360);
        debris1.image_angle = random(360);
        debris1.speed = random(3) + 0.5;
        debris1.rotate_speed = random(2) + 0.3;
    }
    if (irandom(1) == 1){
        debris2 = instance_create(x, y, obj_enemy_2_debris);
        debris2.image_index = 1;
        debris2.direction = random(360);
        debris2.image_angle = random(360);
        debris2.speed = random(3) + 0.5;
        debris2.rotate_speed = random(2) + 0.3;
    }
    if (irandom(1) == 1){
        debris3 = instance_create(x, y, obj_enemy_2_debris);
        debris3.image_index = 2;
        debris3.direction = random(360);
        debris3.image_angle = random(360);
        debris3.speed = random(3) + 0.5;
        debris3.rotate_speed = random(2) + 0.3;
    }
    if (irandom(1) == 1){
        debris4 = instance_create(x, y, obj_enemy_2_debris);
        debris4.image_index = 3;
        debris4.direction = random(360);
        debris4.image_angle = random(360);
        debris4.speed = random(3) + 0.5;
        debris4.rotate_speed = random(2) + 0.3;
    }
    
    if(is_there_booty){
        rand1 = random(90) + 45;
        coin1 = instance_create(x,y,obj_coin);
        coin1.vspeed = -(4 * sin(degtorad(rand1)));
        coin1.hspeed = (4 * cos(degtorad(rand1)));
        rand2 = random(90) + 45;
        coin2 = instance_create(x,y,obj_coin);
        coin2.vspeed = -(4 * sin(degtorad(rand2)));
        coin2.hspeed = (4 * cos(degtorad(rand2)));
        rand3 = random(90) + 45;
        coin3 = instance_create(x,y,obj_coin);
        coin3.vspeed = -(4 * sin(degtorad(rand3)));
        coin3.hspeed = (4 * cos(degtorad(rand3)));
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_angle = point_direction(x,y,obj_player.x,obj_player.y);

if(!is_on_path){
    if(!is_clockwise &amp;&amp; y == path_get_y(pth_1_enemy_2,0)){
        path_start(pth_1_enemy_2,1, path_action_continue,true);
        is_on_path = true;
    } else if (is_clockwise &amp;&amp; y == path_get_y(pth_2_enemy_2,0)) {
        path_start(pth_2_enemy_2,1, path_action_continue,true);
        is_on_path = true;
    } else direction = 270;
}

/*if(x==path_get_x(pth_1_enemy_2,0) &amp;&amp; y&lt;path_get_y(pth_1_enemy_2,0)){
    if (y &lt; path_get_y(pth_1_enemy_2,0)) direction = 270;
    else if (!is_on_path){
        path_start(pth_1_enemy_2,1, path_action_continue,true);
        is_on_path = true;
    }
} else if(x==path_get_x(pth_2_enemy_2,0) &amp;&amp; y&lt;path_get_y(pth_2_enemy_2,0)){
    if (y &lt; path_get_y(pth_2_enemy_2,0)) direction = 270;
    else if (!is_on_path){
        path_start(pth_2_enemy_2,1, path_action_continue,true);
        is_on_path = true;
    }
} else direction = 270;
*/

count++;
if (count &gt;= attack_speed){
    bullet = instance_create(x,y,obj_enemy_2_bullet);
    bullet.direction = image_angle;
    bullet.image_angle = image_angle;
    bullet.speed = bullet_speed;
    if (count &gt;= attack_speed + attack_duration) count = 0;
}

if (is_there_booty){
    shine_count++;
    if(shine_count &gt;= 30){
        instance_create( x - 20 + random(40), y - 20 + random(40), obj_treasure_sfx);
        shine_count = 0;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_player">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///takes damage
if(global.invul_counter &lt;= 0){
    instance_destroy();
    global.player_hp -= 5;
    if(global.player_hp &lt;= 0) game_end();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///destroys bullet
instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///takes damage
hp -= global.player_attack_damage;
if (hp &lt;= 0) instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
